# Example env file for MeBooks proxy and client integration

# Proxy (server) environment variables for proxy service
# Comma separated list of hosts allowed to be proxied
# Comma separated list of hosts allowed to be proxied (use '*' to allow all - not recommended in prod)
HOST_ALLOWLIST=minotaur.dev.palaceproject.io,fulcrum.org,library.biblioboard.com,cdn.biblioboard.com,.cloudfront.net,.amazonaws.com,.fastly.net,.githubusercontent.com
# Allowed origin for CORS responses (set this to your app origin in production)
ALLOW_ORIGIN=https://app.your-domain.example
# Optional: a secret key required by clients to use the proxy (recommend setting in Render dashboard as a secret)
# PROXY_KEY=some-secret-token

# Client (Vite) variables - set these in your Vite environment for the client app build
# The proxy URL should point at the deployed proxy service's /proxy endpoint
# The client-side Vite variable should point to the proxy root (no trailing query params). Example:
# VITE_OWN_PROXY_URL=https://mebooks-proxy.onrender.com
VITE_OWN_PROXY_URL=https://mebooks-proxy.onrender.com
# Force the client to always use the owned proxy (true/false)
VITE_FORCE_PROXY=false

# Note: The proxy includes a system 'curl' fallback to work around some upstream TLS handshake issues.
# If you deploy with the provided Dockerfile (based on alpine), the image installs `curl` and `ca-certificates`.
# After pushing these changes, trigger a redeploy on Render so the container includes curl and the updated code.
